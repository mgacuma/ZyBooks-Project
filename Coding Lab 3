#include <iostream>
#include <string>


using namespace std;

int GetNumOfNonWSCharacters(string in){
    int i, counter, n = in.length();
    for (i = 0; i < n; i++){
      if (!in.at(i) == ' ') counter++;
    }
    return counter;
}

int GetNumOfWords(string in){
  int i, n, counter;
  n = in.length();
  for (i = 0; i < n; i++){
    if (in.at(i) == ' ') counter++;
  }
  return counter + 1;
}

int FindText(string findee, string in){
  int i, n, counter;
    if (in.find(findee)!=string::npos){
        i = in.find(findee) + findee.length() + 1;      //index of first occurence
        counter++
    }
    else return 0; 
    
    while(in.find(find, i) != string::npos){
        i = in.find(findee, i) + findee.length() + 1;
        counter++;
    }

    return counter;
}

void ReplaceExclamation(string in){
    int i, n = in.length();
        for (i = 0; i < n; i++){
            if(in.at(i) == '!'){
                in.at(i) = '.';
            }
        }
        cout << in;
}

void ShortenSpace(string in){
    int i, n;
    n = in.length;
    
    for(i = 0; i < n; i++){
        if (in.at(i) == ' ' && in.at(i+1) == ' '){
            in.replace(i, 2, " ");
            i--;
        }
    }
    
    cout << in;
}



void PrintMenu(string in){
  string func;

  cout << "MENU\nc - Number of non-whitespace characters\nw - Number of words\nf - Find text\nr - Replace all !'s\ns - Shorten spaces\nq - Quit\n\nChoose an option: ";
  cin >> func;

   // while (1){
      if (func == "c"){
        int ws = GetNumOfNonWSCharacters(in);
        cout << "Number of non-whitespace characters: " << ws << endl;
      }

      if (func == "w"){
        int w = GetNumOfWords(in);
        cout << "Number of words: " << w << endl;
      }

      if (func == "f"){
        string text;
        cout << "Enter a word or phrase to be found: \n";
        cin.ignore();
        getline(cin, text);
        int f = FindText(text, in);
        cout << """ << text << "" instances: " << f;
      }

    if (func == "r"){
         ReplaceExclamation(in);
    }

    if (func == "s"){
        ShortenSpace(in);
    }
    
    if (func == "q") exit 0;
    
  //  }
  }




int main() {

   /* Type your code here. */
   string in;
   cout << "Enter a sample text: \n";
   getline(cin, in);

   cout << "You entered: " << in;

   PrintMenu(in);

   return 0;
}
